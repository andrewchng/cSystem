<script>
    $("#pendingBtn").click(function(){
        $("#pendingBtn").addClass("green");
        $("#pendingBtn").removeClass("btn-default");
        $("#ongoingBtn").removeClass("green");
        $("#ongoingBtn").addClass("btn-default");
        $("#resolvedBtn").removeClass("green");
        $("#resolvedBtn").addClass("btn-default");
    });

    $("#ongoingBtn").click(function(){
        $("#ongoingBtn").addClass("green");
        $("#ongoingBtn").removeClass("btn-default");
        $("#resolvedBtn").removeClass("green");
        $("#resolvedBtn").addClass("btn-default");
        $("#pendingBtn").removeClass("green");
        $("#pendingBtn").addClass("btn-default");
    });

    $("#resolvedBtn").click(function(){
        $("#resolvedBtn").addClass("green");
        $("#resolvedBtn").removeClass("btn-default");
        $("#pendingBtn").removeClass("green");
        $("#pendingBtn").addClass("btn-default");
        $("#ongoingBtn").removeClass("green");
        $("#ongoingBtn").addClass("btn-default");
    });
</script>

<div class="spacer visible-xs"></div>
<div class="container-fluid-full">
<div class="table-responsive " style="padding-left:50px;" ng-init="listReports()")>
    <br><br>
    <div class="btn-group" role="group">
        <button id='pendingBtn' type="button" ng-click="showPending()"  class="btn green">Pending</button>
        <button id='ongoingBtn' type="button" ng-click="showOngoing()"  class="btn btn-default">Ongoing</button>
        <button id='resolvedBtn' type="button" ng-click="showResolved()" class="btn btn-default">Resolved</button>
    </div>
    <!--<h4 class="page-title">Pending</h4>-->
    <div ng-if="pending == 1">
    <table class="table table-striped table-bordered" style="width:1100px;" >
        <tr>
            <th>No</th>
            <th>Name</th>
            <th>Type</th>
            <th>Location</th>
            <th>Created At</th>
            <th>Updated At</th>
            <th>Assigned To</th>
            <th>Actions</th>
        </tr>

        <tr ng-repeat="report in PreportList | pagination: (PcurrentPage-1)*pageSize | limitTo: pageSize">
            <td>{{report.reportID}}</td>
            <td>{{report.reportName}}</td>
            <td>
                <div ng-if="report.reportType == 1">Traffic</div>
                <div ng-if="report.reportType == 2">Dengue</div>
            </td>
            <td>{{report.location}}</td>
            <td>{{report.created_at}}</td>
            <td>{{report.updated_at}}</td>
            <td>{{agencyList[report.assignedTo-1].agencyName}}</td>
            <td class="row">
                <div>
                    <button type="submit" class="btn btn-xs btn-default btn-block" ng-click="findReport(report.reportID)" name="edit"><i class="fa fa-pencil-square-o"></i></button>
                    <button type="submit" class="btn btn-xs btn-danger btn-block " ng-click="deleteReport(report.reportID)"  name="delete"><i class="fa fa-trash-o"></i></button>
                </div>
            </td>
        </tr>
    </table>

    <uib-pagination
            total-items="PtotalItems"
            ng-model="PcurrentPage"
            ng-change="pageChanged()"
            items-per-page="pageSize">
    </uib-pagination>
    </div>

    <div ng-if="ongoing == 1">
    <table class="table  table-striped table-bordered" style="width:1100px;">
        <tr >
            <th>No</th>
            <th>Name</th>
            <th>Type</th>
            <th>Location</th>
            <th>Created At</th>
            <th>Updated At</th>
            <th>Assigned To</th>
        </tr>
        <tr ng-repeat="report in OreportList | pagination: (OcurrentPage-1)*pageSize | limitTo: pageSize">
            <td>{{report.reportID}}</td>
            <td>{{report.reportName}}</td>
            <td>
                <div ng-if="report.reportType == 1">Traffic</div>
                <div ng-if="report.reportType == 2">Dengue</div>
            </td>
            <td>{{report.location}}</td>
            <td>{{report.created_at}}</td>
            <td>{{report.updated_at}}</td>
            <td>{{agencyList[report.assignedTo-1].agencyName}}</td>
        </tr>
    </table>
        <uib-pagination
                total-items="OtotalItems"
                ng-model="OcurrentPage"
                ng-change="pageChanged()"
                items-per-page="pageSize">
        </uib-pagination>
    </div>

   <div ng-if="resolved == 1">
    <table class="table  table-striped table-bordered" style="width:1100px;">
        <tr >
            <th>No</th>
            <th>Name</th>
            <th>Type</th>
            <th>Location</th>
            <th>Created At</th>
            <th>Updated At</th>
            <th>Assigned To</th>
        </tr>
        <tr ng-repeat="report in RreportList | pagination: (RcurrentPage-1)*pageSize | limitTo: pageSize">
            <td>{{report.reportID}}</td>
            <td>{{report.reportName}}</td>
            <td>
                <div ng-if="report.reportType == 1">Traffic</div>
                <div ng-if="report.reportType == 2">Dengue</div>
            </td>
            <td>{{report.location}}</td>
            <td>{{report.created_at}}</td>
            <td>{{report.updated_at}}</td>
            <td>{{agencyList[report.assignedTo-1].agencyName}}</td>
        </tr>
    </table>
       <uib-pagination
               total-items="RtotalItems"
               ng-model="RcurrentPage"
               ng-change="pageChanged()"
               items-per-page="pageSize">
       </uib-pagination>
    </div>
    <br>


</div>
</div>